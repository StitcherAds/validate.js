/*!
 * validate.js 0.13.1
 * http://validatejs.org/
 * (c) 2013-2015 Nicklas Ansman, 2013 Wrapp
 * validate.js may be freely distributed under the MIT license.
*/
!function(t,e,n){function r(t,e,n){if(n=c.extend({},c.options,n),(t=c.runValidations(t,e,n)).some(function(t){return c.isPromise(t.error)}))throw new Error("Use validate.async if you want support for promises");return r.processValidationResults(t,n)}var c=r;c.extend=function(n){return[].slice.call(arguments,1).forEach(function(t){for(var e in t)n[e]=t[e]}),n},c.extend(r,{version:{major:0,minor:13,patch:1,metadata:"development",toString:function(){var t=c.format("%{major}.%{minor}.%{patch}",c.version);return c.isEmpty(c.version.metadata)||(t+="+"+c.version.metadata),t}},Promise:"undefined"!=typeof Promise?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(t,e,n){var r,i,o,s,a,u,f=[];for(r in(c.isDomElement(t)||c.isJqueryElement(t))&&(t=c.collectFormValues(t)),e)for(i in o=c.getDeepObjectValue(t,r),s=c.result(e[r],o,t,r,n,e)){if(!(a=c.validators[i]))throw u=c.format("Unknown validator %{name}",{name:i}),new Error(u);u=s[i],(u=c.result(u,o,t,r,n,e))&&f.push({attribute:r,value:o,validator:i,globalOptions:n,attributes:t,options:u,error:a.call(a,o,u,r,t,n)})}return f},processValidationResults:function(t,e){t=c.pruneEmptyErrors(t,e),t=c.expandMultipleErrors(t,e),t=c.convertErrorMessages(t,e);var n=e.format||"grouped";if("function"!=typeof c.formatters[n])throw new Error(c.format("Unknown format %{format}",e));return t=c.formatters[n](t),c.isEmpty(t)?void 0:t},async:function(r,i,o){var s=(o=c.extend({},c.async.options,o)).wrapErrors||function(t){return t},a=(!1!==o.cleanAttributes&&(r=c.cleanAttributes(r,i)),c.runValidations(r,i,o));return new c.Promise(function(e,n){c.waitForResults(a).then(function(){var t=c.processValidationResults(a,o);t?n(new s(t,o,r,i)):e(r)},function(t){n(t)})})},single:function(t,e,n){return n=c.extend({},c.single.options,n,{format:"flat",fullMessages:!1}),c({single:t},{single:e},n)},waitForResults:function(t){return t.reduce(function(t,e){return c.isPromise(e.error)?t.then(function(){return e.error.then(function(t){e.error=t||null})}):t},new c.Promise(function(t){t()}))},result:function(t){var e=[].slice.call(arguments,1);return t="function"==typeof t?t.apply(null,e):t},isNumber:function(t){return"number"==typeof t&&!isNaN(t)},isFunction:function(t){return"function"==typeof t},isInteger:function(t){return c.isNumber(t)&&t%1==0},isBoolean:function(t){return"boolean"==typeof t},isObject:function(t){return t===Object(t)},isDate:function(t){return t instanceof Date},isDefined:function(t){return null!=t},isPromise:function(t){return!!t&&c.isFunction(t.then)},isJqueryElement:function(t){return t&&c.isString(t.jquery)},isDomElement:function(t){return!!t&&!(!t.querySelectorAll||!t.querySelector)&&(!(!c.isObject(document)||t!==document)||("object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName))},isEmpty:function(t){if(!c.isDefined(t))return!0;if(!c.isFunction(t)){if(c.isString(t))return c.EMPTY_STRING_REGEXP.test(t);if(c.isArray(t))return 0===t.length;if(!c.isDate(t)&&c.isObject(t)){for(var e in t)return!1;return!0}}return!1},format:c.extend(function(t,r){return c.isString(t)?t.replace(c.format.FORMAT_REGEXP,function(t,e,n){return"%"===e?"%{"+n+"}":String(r[n])}):t},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(t){return c.isNumber(t)?100*t%1==0?""+t:parseFloat(Math.round(100*t)/100).toFixed(2):c.isArray(t)?t.map(function(t){return c.prettify(t)}).join(", "):c.isObject(t)?c.isDefined(t.toString)?t.toString():JSON.stringify(t):(t=""+t).replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(t,e,n){return e+" "+n.toLowerCase()}).toLowerCase()},stringifyValue:function(t,e){return(e&&e.prettify||c.prettify)(t)},isString:function(t){return"string"==typeof t},isArray:function(t){return"[object Array]"==={}.toString.call(t)},isHash:function(t){return c.isObject(t)&&!c.isArray(t)&&!c.isFunction(t)},contains:function(t,e){return!!c.isDefined(t)&&(c.isArray(t)?-1!==t.indexOf(e):e in t)},unique:function(t){return c.isArray(t)?t.filter(function(t,e,n){return n.indexOf(t)==e}):t},forEachKeyInKeypath:function(t,e,n){if(c.isString(e)){for(var r="",i=!1,o=0;o<e.length;++o)switch(e[o]){case".":i?(i=!1,r+="."):(t=n(t,r,!1),r="");break;case"\\":i?(i=!1,r+="\\"):i=!0;break;default:i=!1,r+=e[o]}return n(t,r,!0)}},getDeepObjectValue:function(t,e){if(c.isObject(t))return c.forEachKeyInKeypath(t,e,function(t,e){if(c.isObject(t))return t[e]})},collectFormValues:function(t,e){var n,r,i,o,s={};if(t=c.isJqueryElement(t)?t[0]:t){for(e=e||{},i=t.querySelectorAll("input[name], textarea[name]"),n=0;n<i.length;++n){var a,u,f=i.item(n);c.isDefined(f.getAttribute("data-ignored"))||(a=f.name.replace(/\./g,"\\\\."),u=c.sanitizeFormValue(f.value,e),"number"===f.type?u=u?+u:null:"checkbox"===f.type?f.attributes.value?f.checked||(u=s[a]||null):u=f.checked:"radio"!==f.type||f.checked||(u=s[a]||null),s[a]=u)}for(i=t.querySelectorAll("select[name]"),n=0;n<i.length;++n)if(f=i.item(n),!c.isDefined(f.getAttribute("data-ignored"))){if(f.multiple)for(r in u=[],f.options)(o=f.options[r])&&o.selected&&u.push(c.sanitizeFormValue(o.value,e));else{var l=void 0!==f.options[f.selectedIndex]?f.options[f.selectedIndex].value:"";u=c.sanitizeFormValue(l,e)}s[f.name]=u}}return s},sanitizeFormValue:function(t,e){return e.trim&&c.isString(t)&&(t=t.trim()),!1!==e.nullify&&""===t?null:t},capitalize:function(t){return c.isString(t)?t[0].toUpperCase()+t.slice(1):t},pruneEmptyErrors:function(t){return t.filter(function(t){return!c.isEmpty(t.error)})},expandMultipleErrors:function(t){var n=[];return t.forEach(function(e){c.isArray(e.error)?e.error.forEach(function(t){n.push(c.extend({},e,{error:t}))}):n.push(e)}),n},convertErrorMessages:function(t,n){var r=[],i=(n=n||{}).prettify||c.prettify;return t.forEach(function(t){var e=c.result(t.error,t.value,t.attribute,t.options,t.attributes,t.globalOptions);c.isString(e)?("^"===e[0]?e=e.slice(1):!1!==n.fullMessages&&(e=c.capitalize(i(t.attribute))+" "+e),e=e.replace(/\\\^/g,"^"),e=c.format(e,{value:c.stringifyValue(t.value,n)}),r.push(c.extend({},t,{error:e}))):r.push(t)}),r},groupErrorsByAttribute:function(t){var n={};return t.forEach(function(t){var e=n[t.attribute];e?e.push(t):n[t.attribute]=[t]}),n},flattenErrorsToArray:function(t){return t.map(function(t){return t.error}).filter(function(t,e,n){return n.indexOf(t)===e})},cleanAttributes:function(t,e){function r(t,e,n){return c.isObject(t[e])?t[e]:t[e]=!!n||{}}return c.isObject(e)&&c.isObject(t)?function t(e,n){if(!c.isObject(e))return e;var r,i,o=c.extend({},e);for(i in e)r=n[i],c.isObject(r)?o[i]=t(o[i],r):r||delete o[i];return o}(t,e=(t=>{var e,n={};for(e in t)t[e]&&c.forEachKeyInKeypath(n,e,r);return n})(e)):{}},exposeModule:function(t,e,n,r,i){n?(n=r&&r.exports?r.exports=t:n).validate=t:(e.validate=t).isFunction(i)&&i.amd&&i([],function(){return t})},warn:function(t){"undefined"!=typeof console&&console.warn&&console.warn("[validate.js] "+t)},error:function(t){"undefined"!=typeof console&&console.error&&console.error("[validate.js] "+t)}}),r.validators={presence:function(t,e){if(!1!==(e=c.extend({},this.options,e)).allowEmpty?!c.isDefined(t):c.isEmpty(t))return e.message||this.message||"can't be blank"},length:function(t,e,n){var r,i,o,s,a;if(c.isDefined(t))return r=(e=c.extend({},this.options,e)).is,i=e.maximum,o=e.minimum,a=[],t=(t=(e.tokenizer||function(t){return t})(t)).length,c.isNumber(t)?(c.isNumber(r)&&t!==r&&(s=e.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",a.push(c.format(s,{count:r}))),c.isNumber(o)&&t<o&&(s=e.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",a.push(c.format(s,{count:o}))),c.isNumber(i)&&i<t&&(s=e.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",a.push(c.format(s,{count:i}))),0<a.length?e.message||a:void 0):e.message||this.notValid||"has an incorrect length"},numericality:function(t,e,n,r,i){if(c.isDefined(t)){var o,s=[],a={greaterThan:function(t,e){return e<t},greaterThanOrEqualTo:function(t,e){return e<=t},equalTo:function(t,e){return t===e},lessThan:function(t,e){return t<e},lessThanOrEqualTo:function(t,e){return t<=e},divisibleBy:function(t,e){return t%e==0}},u=(e=c.extend({},this.options,e)).prettify||i&&i.prettify||c.prettify;if(c.isString(t)&&e.strict)if(!(e.onlyInteger?/^-?(0|[1-9]\d*)$/:/^-?(0|[1-9]\d*)(\.\d+)?$/).test(t))return e.message||e.notValid||this.notValid||this.message||"must be a valid number";if(!0!==e.noStrings&&c.isString(t)&&!c.isEmpty(t)&&(t=+t),!c.isNumber(t))return e.message||e.notValid||this.notValid||this.message||"is not a number";if(e.onlyInteger&&!c.isInteger(t))return e.message||e.notInteger||this.notInteger||this.message||"must be an integer";for(o in a){var f,l=e[o];c.isNumber(l)&&!a[o](t,l)&&(f=e[f="not"+c.capitalize(o)]||this[f]||this.message||"must be %{type} %{count}",s.push(c.format(f,{count:l,type:u(o)})))}return e.odd&&t%2!=1&&s.push(e.notOdd||this.notOdd||this.message||"must be odd"),e.even&&t%2!=0&&s.push(e.notEven||this.notEven||this.message||"must be even"),s.length?e.message||s:void 0}},datetime:c.extend(function(t,e){if(!c.isFunction(this.parse)||!c.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");var n,r,i,o;if(c.isDefined(t))return r=[],i=(e=c.extend({},this.options,e)).earliest?this.parse(e.earliest,e):NaN,o=e.latest?this.parse(e.latest,e):NaN,t=this.parse(t,e),isNaN(t)||e.dateOnly&&t%864e5!=0?(n=e.notValid||e.message||this.notValid||"must be a valid date",c.format(n,{value:arguments[0]})):(!isNaN(i)&&t<i&&(n=e.tooEarly||e.message||this.tooEarly||"must be no earlier than %{date}",n=c.format(n,{value:this.format(t,e),date:this.format(i,e)}),r.push(n)),!isNaN(o)&&o<t&&(n=e.tooLate||e.message||this.tooLate||"must be no later than %{date}",n=c.format(n,{date:this.format(o,e),value:this.format(t,e)}),r.push(n)),r.length?c.unique(r):void 0)},{parse:null,format:null}),date:function(t,e){return e=c.extend({},e,{dateOnly:!0}),c.validators.datetime.call(c.validators.datetime,t,e)},format:function(t,e){(c.isString(e)||e instanceof RegExp)&&(e={pattern:e});var n=(e=c.extend({},this.options,e)).message||this.message||"is invalid",r=e.pattern;return!c.isDefined(t)||c.isString(t)&&(e=(r=c.isString(r)?new RegExp(e.pattern,e.flags):r).exec(t))&&e[0].length==t.length?void 0:n},inclusion:function(t,e){if(c.isDefined(t)&&(c.isArray(e)&&(e={within:e}),e=c.extend({},this.options,e),!c.contains(e.within,t)))return e=e.message||this.message||"^%{value} is not included in the list",c.format(e,{value:t})},exclusion:function(t,e){var n;if(c.isDefined(t)&&(c.isArray(e)&&(e={within:e}),e=c.extend({},this.options,e),c.contains(e.within,t)))return n=e.message||this.message||"^%{value} is restricted",c.isString(e.within[t])&&(t=e.within[t]),c.format(n,{value:t})},email:c.extend(function(t,e){e=(e=c.extend({},this.options,e)).message||this.message||"is not a valid email";return!c.isDefined(t)||c.isString(t)&&this.PATTERN.test(t)?void 0:e},{PATTERN:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-z0-9-]+(?:\.[a-z0-9-]+)*\.[a-z]{2,}$/i}),equality:function(t,e,n,r,i){if(c.isDefined(t)){c.isString(e)&&(e={attribute:e});var o=(e=c.extend({},this.options,e)).message||this.message||"is not equal to %{attribute}";if(c.isEmpty(e.attribute)||!c.isString(e.attribute))throw new Error("The attribute must be a non empty string");var s=c.getDeepObjectValue(r,e.attribute),a=e.comparator||function(t,e){return t===e},i=e.prettify||i&&i.prettify||c.prettify;return a(t,s,e,n,r)?void 0:c.format(o,{attribute:i(e.attribute)})}},url:function(t,e){var n,r,i;if(c.isDefined(t))return n=(e=c.extend({},this.options,e)).message||this.message||"is not a valid url",i=e.schemes||this.schemes||["http","https"],r=e.allowLocal||this.allowLocal||!1,e=e.allowDataUrl||this.allowDataUrl||!1,c.isString(t)&&(i="^(?:(?:"+i.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:"+(r?"(?:localhost|(?:\\d{1,3}\\.){3}\\d{1,3}|(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?))(?::\\d{2,5})?":"(?!(?:0|10|127|169\\.254|192\\.168|224|172\\.(?:1[6-9]|2\\d|3[0-1]))\\.)(?:\\d{1,3}\\.){3}\\d{1,3}")+"|(?:[a-z\\u00a1-\\uffff0-9](?:[a-z\\u00a1-\\uffff0-9-]*[a-z\\u00a1-\\uffff0-9])*)(?:\\.(?:[a-z\\u00a1-\\uffff0-9](?:[a-z\\u00a1-\\uffff0-9-]*[a-z\\u00a1-\\uffff0-9])*))*(?:\\.[a-z\\u00a1-\\uffff]{2,}))(?::\\d{2,5})?(?:[/?#]\\S*)?$",e&&(i="(?:"+i+")|(?:^data:(?:[a-z]+/[a-z0-9-+.]+)?(?:;[a-z-]+=[a-z0-9-]+)*(?:;base64)?,[a-z0-9!$&'()*+,;=:@%]*$)"),new RegExp(i,"i").test(t))?void 0:n},type:c.extend(function(t,e,n,r,i){if(c.isString(e)&&(e={type:e}),c.isDefined(t)){var o,s=c.extend({},this.options,e),a=s.type;if(!c.isDefined(a))throw new Error("No type was specified");if(o=c.isFunction(a)?a:this.types[a],c.isFunction(o))return o(t,s,n,r,i)?void 0:(o=e.message||this.messages[a]||this.message||s.message||(c.isFunction(a)?"must be of the correct type":"must be of type %{type}"),c.isFunction(o)&&(o=o(t,e,n,r,i)),c.format(o,{attribute:c.prettify(n),type:a}));throw new Error("validate.validators.type.types."+a+" must be a function.")}},{types:{object:function(t){return c.isObject(t)&&!c.isArray(t)},array:c.isArray,integer:c.isInteger,number:c.isNumber,string:c.isString,date:c.isDate,boolean:c.isBoolean},messages:{}})},r.formatters={detailed:function(t){return t},flat:c.flattenErrorsToArray,grouped:function(t){for(var e in t=c.groupErrorsByAttribute(t))t[e]=c.flattenErrorsToArray(t[e]);return t},constraint:function(t){for(var e in t=c.groupErrorsByAttribute(t))t[e]=t[e].map(function(t){return t.validator}).sort();return t}},r.exposeModule(r,this,t,e,n)}.call(this,"undefined"!=typeof exports?exports:null,"undefined"!=typeof module?module:null,"undefined"!=typeof define?define:null);
//# sourceMappingURL=validate.min.map